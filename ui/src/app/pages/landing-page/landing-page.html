<div class="card w-full">
  <p-table
    #libraryTable
    [globalFilterFields]="['title', 'author', 'shelfLocation']"
    [value]="library().books"
    class="w-full"
    dataKey="title">
    <ng-template #caption>
      <div class="flex w-full">
        <input (input)="libraryTable.filterGlobal($event.target.value, 'contains')" class="ml-auto sm:w-100 w-full" pInputText
               placeholder="Search by Author or Title" type="text"/>
      </div>
    </ng-template>
    <ng-template #header>
      <tr>
        <th>Book</th>
        <th class="hidden sm:table-cell">Shelf</th>
        <th>Read By</th>
      </tr>
    </ng-template>
    <ng-template #body let-book>
      <tr>
        <td>
          <span>{{ book.title }}</span> <br/>
          <span class="font-light text-sm">{{ book.author }}</span>
        </td>
        <td class="hidden sm:table-cell">
          {{ book.shelfLocation ?? '-' }}
        </td>
        <td>
          <p-tag [severity]="book.isReadByJay ? 'success' : 'secondary'" class="me-2" value="Jay"/>
          <p-tag [severity]="book.isReadByGemma ? 'success' : 'secondary'" class="mt-2 md:mt-0" value="Gemma"/>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
